<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>25.8.15 06 GitHub Pagesã§ãŠçŸ¥ã‚‰ã›ã‚’è‡ªå‹•ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã™ã‚‹æ–¹æ³•ï¼ˆGitHub Actionsï¼‹ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰</title>
  <link rel="stylesheet" href="/ai-comparison-test-site/style.css">
  <style>
    /* å¿…è¦æœ€å°é™ã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³CSSï¼ˆ20è¡Œä»¥å†…ï¼‰ */
    .fade-in { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease, transform 0.6s ease; }
    .fade-in.visible { opacity: 1; transform: translateY(0); }
    #back-to-top { 
      position: fixed; bottom: 20px; right: 20px; 
      padding: 10px 15px; font-size: 14px; cursor: pointer; 
      background: #333; color: #fff; border: none; border-radius: 4px; 
      opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
    }
    #back-to-top.show { opacity: 1; pointer-events: auto; }
  </style>
</head>
<body>
  <!-- å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å‹•çš„ã«èª­ã¿è¾¼ã‚€ -->
  <div id="header-mount"></div>

  <main style="padding-top: 80px;">
    <h1 class="fade-in">ğŸ“¦ GitHub Pagesã§ãŠçŸ¥ã‚‰ã›ã‚’è‡ªå‹•ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã™ã‚‹æ–¹æ³•</h1>
    <!-- ã“ã“ã«JSã§ç›®æ¬¡ã‚’è‡ªå‹•ç”Ÿæˆ -->
    <div id="toc" class="fade-in" aria-label="è¨˜äº‹ã®ç›®æ¬¡"></div>

    <section class="fade-in">
      <p>GitHubãƒªãƒã‚¸ãƒˆãƒªå†…ã§æ–°ç€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã—ã€ä¸€å®šæœŸé–“çµŒéå¾Œã«è‡ªå‹•ã§ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã—ãŸã„å ´åˆã€<strong>GitHub Actions</strong> ã¨ <strong>ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆHTMLç”Ÿæˆ</strong> ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã®ãŒæœ€é©ã§ã™ã€‚</p>
    </section>

    <h2 class="fade-in">ãªãœGitHub ActionsãŒæœ€é©ãªã®ã‹ï¼Ÿ</h2>
    <section class="fade-in">
      <p>GitHubã®APIã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸€è¦§ã‚’å–å¾—ã—ã¦ã„ã‚‹å ´åˆã€<strong>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•ã™ã‚Œã°ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‹ã‚‰è‡ªå‹•çš„ã«æ¶ˆãˆã‚‹</strong>ãŸã‚ã€æ‰‹ä½œæ¥­ã®æ›´æ–°ãŒä¸è¦ã«ãªã‚Šã¾ã™ã€‚</p>
    </section>

    <h2 class="fade-in">æ‰‹é †1ï¼šGitHub Actionsã§å¤ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç§»å‹•</h2>
    <section class="fade-in">
      <p>.github/workflows/archive.yml ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ï¼š</p>
      <pre><code>name: Auto Archive Old News

on:
  schedule:
    - cron: '0 3 * * 1'  # æ¯é€±æœˆæ›œåˆå‰3æ™‚(UTC)
  workflow_dispatch:

jobs:
  archive:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Move old directories
        run: |
          find news/* -type d -mtime +30 | while read dir; do
            mkdir -p archive/$(dirname "$dir")
            git mv "$dir" "archive/$dir"
            echo "Archived $dir"
          done

      - name: Commit changes
        run: |
          git config --global user.name 'github-actions[bot]'
          git config --global user.email 'github-actions[bot]@users.noreply.github.com'
          git add .
          git diff --staged --quiet || git commit -m "Auto-archive old news"
          git push</code></pre>
    </section>

    <h2 class="fade-in">æ‰‹é †2ï¼šãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ç”Ÿæˆ</h2>
    <section class="fade-in">
      <p>ç§»å‹•å…ƒã®å ´æ‰€ã« index.html ã‚’ç”Ÿæˆã—ã¦ã€è¨ªå•è€…ã‚’æ–°ã—ã„URLã¸è»¢é€ã—ã¾ã™ã€‚</p>
      <pre><code>echo '&lt;!DOCTYPE html&gt;
&lt;html&gt;&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;ã“ã®ãƒšãƒ¼ã‚¸ã¯ç§»å‹•ã—ã¾ã—ãŸ&lt;/title&gt;
&lt;meta http-equiv="refresh" content="0; url=../archive/${dir}/"&gt;
&lt;link rel="canonical" href="../archive/${dir}/"&gt;
&lt;/head&gt;&lt;body&gt;
&lt;p&gt;ã“ã®ãƒšãƒ¼ã‚¸ã¯ç§»å‹•ã—ã¾ã—ãŸã€‚è‡ªå‹•çš„ã«ã‚¸ãƒ£ãƒ³ãƒ—ã—ãªã„å ´åˆã¯
&lt;a href="../archive/${dir}/"&gt;ã“ã¡ã‚‰&lt;/a&gt;ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚&lt;/p&gt;
&lt;/body&gt;&lt;/html&gt;' > "$dir/index.html"</code></pre>
      <p>ã“ã®å‡¦ç†ã‚’GitHub Actionsã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã«è¿½åŠ ã™ã‚‹ã¨ã€ãƒªãƒ³ã‚¯åˆ‡ã‚Œã‚’é˜²æ­¢ã§ãã¾ã™ã€‚</p>
    </section>

    <h2 class="fade-in">ã¾ã¨ã‚</h2>
    <section class="fade-in">
      <ul>
        <li>âš¡ <strong>å®Œå…¨è‡ªå‹•åŒ–</strong>ï¼šGitHub Actionsã§å®šæœŸå®Ÿè¡Œ</li>
        <li>ğŸ”— <strong>URLåˆ‡ã‚Œé˜²æ­¢</strong>ï¼šãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆHTMLã‚’ç”Ÿæˆ</li>
        <li>ğŸ’¡ <strong>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å¤‰æ›´ä¸è¦</strong></li>
      </ul>
    </section>
  </main>

  <!-- ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
  <button id="back-to-top" aria-label="ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹">â–²</button>

  <script>
    // ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’fetchã§å‹•çš„ã«èª­ã¿è¾¼ã‚€
    fetch("/ai-comparison-test-site/header.html")
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        document.getElementById("header-mount").innerHTML = doc.body.innerHTML;
      })
      .catch(err => console.error("Header load error:", err));

    // ç›®æ¬¡ã®è‡ªå‹•ç”Ÿæˆ
    document.addEventListener("DOMContentLoaded", () => {
      const toc = document.getElementById("toc");
      const headings = document.querySelectorAll("h2, h3");
      if (headings.length) {
        const ul = document.createElement("ul");
        headings.forEach((h, i) => {
          const id = "heading-" + i;
          h.id = id;
          const li = document.createElement("li");
          const a = document.createElement("a");
          a.href = "#" + id;
          a.textContent = h.textContent;
          li.appendChild(a);
          ul.appendChild(li);
        });
        toc.appendChild(ul);
      }
    });

    // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add("visible");
      });
    }, { threshold: 0.1 });
    document.querySelectorAll(".fade-in").forEach(el => observer.observe(el));

    // ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³
    const topBtn = document.getElementById("back-to-top");
    window.addEventListener("scroll", () => {
      if (window.scrollY > window.innerHeight) {
        topBtn.classList.add("show");
      } else {
        topBtn.classList.remove("show");
      }
    });
    topBtn.addEventListener("click", () => window.scrollTo({ top: 0, behavior: 'smooth' }));
  </script>
</body>
</html>
