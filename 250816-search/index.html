<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>25.8.16 é™çš„ã‚µã‚¤ãƒˆã§å°å…¥ã™ã‚‹ã‚µã‚¤ãƒˆå†…æ¤œç´¢ï¼šLunr.jsï¼ˆè‡ªåŠ›ï¼‰ã¨Algoliaï¼ˆå¤–éƒ¨ï¼‰ã®2ãƒ‘ã‚¿ãƒ¼ãƒ³è§£èª¬ | SideNote</title>
  <meta name="description" content="é™çš„ã‚µã‚¤ãƒˆã§ã‚µã‚¤ãƒˆå†…æ¤œç´¢ã‚’å°å…¥ã™ã‚‹2ã¤ã®æ–¹æ³•ï¼ˆLunr.js ã¨ Algoliaï¼‰ã‚’æ¯”è¼ƒè§£èª¬ã€‚å°è¦æ¨¡ã‚µã‚¤ãƒˆã¯è‡ªå‰å®Ÿè£…ã€å¤§è¦æ¨¡ã‚µã‚¤ãƒˆã¯å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ãŒæœ‰åˆ©ã§ã™ã€‚">
  <meta property="og:title" content="é™çš„ã‚µã‚¤ãƒˆã§å°å…¥ã™ã‚‹ã‚µã‚¤ãƒˆå†…æ¤œç´¢ï¼šLunr.jsï¼ˆè‡ªåŠ›ï¼‰ã¨Algoliaï¼ˆå¤–éƒ¨ï¼‰ã®2ãƒ‘ã‚¿ãƒ¼ãƒ³è§£èª¬">
  <meta property="og:description" content="é™çš„ã‚µã‚¤ãƒˆã§ã‚µã‚¤ãƒˆå†…æ¤œç´¢ã‚’å°å…¥ã™ã‚‹2ã¤ã®æ–¹æ³•ï¼ˆLunr.js ã¨ Algoliaï¼‰ã‚’æ¯”è¼ƒè§£èª¬ã€‚å°è¦æ¨¡ã‚µã‚¤ãƒˆã¯è‡ªå‰å®Ÿè£…ã€å¤§è¦æ¨¡ã‚µã‚¤ãƒˆã¯å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ãŒæœ‰åˆ©ã§ã™ã€‚">
  <meta name="twitter:card" content="summary">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MQ9ZB4LYWP"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-MQ9ZB4LYWP');
  </script>

  <style>
    :root {
      --bg: #fff;
      --fg: #222;
      --accent: #0066cc;
      --code-bg: #f4f4f4;
      --border: #ddd;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #121212;
        --fg: #eee;
        --accent: #4da3ff;
        --code-bg: #1e1e1e;
        --border: #444;
      }
    }
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: var(--bg);
      color: var(--fg);
      line-height: 1.6;
    }
    footer {
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      border-top: 1px solid var(--border);
      padding: 1rem;
      text-align: center;
    }
    /* ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« */
.site-header {
    background-color: #fff;
    padding: 20px 20px;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
}

.header-container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 28px;
    font-weight: bold;
    letter-spacing: 1.5px;
    transition: color 0.3s;
}
    }
    main {
      max-width: 860px;
      margin: auto;
      padding: 1rem;
    }
    nav#table-of-contents {
      border: 1px solid var(--border);
      padding: 1rem;
      margin-bottom: 2rem;
      background: var(--code-bg);
    }
    nav#table-of-contents ul {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
    nav#table-of-contents li {
      margin: 0.25rem 0;
    }
    h1, h2, h3 {
      scroll-margin-top: 4rem;
    }
    code {
      background: var(--code-bg);
      padding: 0.2em 0.4em;
      border-radius: 4px;
      font-family: monospace;
    }
    pre {
      background: var(--code-bg);
      padding: 1rem;
      overflow-x: auto;
      border-radius: 6px;
      position: relative;
    }
    pre button.copy-btn {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      font-size: 0.8rem;
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      cursor: pointer;
    }
    a {
      color: var(--accent);
    }
    a:hover, a:focus {
      text-decoration: underline;
    }
    footer {
      font-size: 0.9rem;
      color: var(--fg);
      margin-top: 3rem;
    }
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.8s ease forwards;
    }
    @keyframes fadeIn {
      to { opacity: 1; transform: none; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
    <a href="/SideNote/" class="logo">
      <span class="logo-smart">Side</span><span class="logo-side">Note</span>
    </a>
  </header>

  <main>
    <!-- ä¸»è¦‹å‡ºã— -->
    <h1 id="main-title">é™çš„ã‚µã‚¤ãƒˆã§å°å…¥ã™ã‚‹ã‚µã‚¤ãƒˆå†…æ¤œç´¢ï¼šLunr.jsï¼ˆè‡ªåŠ›ï¼‰ã¨Algoliaï¼ˆå¤–éƒ¨ï¼‰ã®2ãƒ‘ã‚¿ãƒ¼ãƒ³è§£èª¬ ğŸ”</h1>

    <!-- è‡ªå‹•ç”Ÿæˆç›®æ¬¡ -->
    <nav id="table-of-contents" aria-label="ç›®æ¬¡"></nav>

    <!-- è¨˜äº‹æœ¬æ–‡ -->
    <article id="article-body">
      <section class="fade-in">
        <h2 id="method-a">æ–¹æ³•Aï¼šLunr.js ã‚’ä½¿ã†ï¼ˆè‡ªåŠ›ã§å®Œçµã•ã›ã‚‹æ–¹æ³•ï¼‰ ğŸ§°</h2>
        <p>å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«é ¼ã‚‰ãšã€ç„¡æ–™ã§ã‚µã‚¤ãƒˆå†…æ¤œç´¢ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã§ã™ã€‚ã‚µã‚¤ãƒˆã®å…¨ãƒšãƒ¼ã‚¸ã®æƒ…å ±ã‚’ã¾ã¨ã‚ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰‹å‹•ï¼ˆã¾ãŸã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ï¼‰ä½œæˆã—ã€ãã‚Œã‚’ä½¿ã£ã¦æ¤œç´¢ã—ã¾ã™ã€‚</p>
        <h3 id="step1">ã‚¹ãƒ†ãƒƒãƒ—1ï¼šæ¤œç´¢ãƒ‡ãƒ¼ã‚¿ <code>search-index.json</code> ã‚’ä½œæˆã™ã‚‹</h3>
        <p>ã¾ãšã€ã‚µã‚¤ãƒˆå†…ã®æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ãƒšãƒ¼ã‚¸ã®æƒ…å ±ã‚’ã¾ã¨ã‚ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œæ¥­ã¯æ‰‹å‹•ã§ã‚‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚‚æ§‹ã„ã¾ã›ã‚“ãŒã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ¤œç´¢ã®æ ¸ã«ãªã‚Šã¾ã™ã€‚</p>
        <figure>
          <figcaption>search-index.json ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆä¾‹ï¼‰</figcaption>
        </figure>
        <pre><button class="copy-btn" aria-label="ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼">Copy</button><code aria-label="search-index.jsonã®ä¾‹">[
{
  "id": 0,
  "url": "/about.html",
  "title": "ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦",
  "content": "ã“ã®ã‚µã‚¤ãƒˆã®é‹å–¶æ–¹é‡ã‚„ç›®çš„ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚..."
},
{
  "id": 1,
  "url": "/products/item01.html",
  "title": "è£½å“Aã®ç´¹ä»‹",
  "content": "ä¸»åŠ›è£½å“ã§ã‚ã‚‹è£½å“Aã®æ©Ÿèƒ½ã‚„ç‰¹å¾´ã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚..."
}
]</code></pre>
        <p><strong>ãƒã‚¤ãƒ³ãƒˆï¼š</strong> <em>id</em>ã¯0ã‹ã‚‰é–‹å§‹ã™ã‚‹é€£ç•ªã€<em>url</em>ã¯ãƒšãƒ¼ã‚¸ãƒ‘ã‚¹ã€<em>title</em>ã¨<em>content</em>ã¯æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã•ã›ãŸã„æƒ…å ±ã‚’è¦ç´„ã—ã¦å…¥ã‚Œã¾ã™ã€‚</p>

        <h3 id="step2">ã‚¹ãƒ†ãƒƒãƒ—2ï¼šHTMLã«æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã¨çµæœã‚¨ãƒªã‚¢ã‚’è¨­ç½®ã™ã‚‹</h3>
        <p>æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã®æœ€ä½é™ã®ä¾‹ï¼š</p>
        <div>
          <label for="search-input">ã‚µã‚¤ãƒˆå†…ã‚’æ¤œç´¢ï¼ˆ2æ–‡å­—ä»¥ä¸Šï¼‰ğŸ”</label>
          <input id="search-input" type="text" placeholder="ã‚µã‚¤ãƒˆå†…ã‚’æ¤œç´¢..." aria-label="ã‚µã‚¤ãƒˆå†…æ¤œç´¢" />
          <ul id="results-container" aria-live="polite"></ul>
        </div>

        <h3 id="step3">ã‚¹ãƒ†ãƒƒãƒ—3ï¼šJavaScriptã‚’è¨˜è¿°ã™ã‚‹ï¼ˆLunr.jsã‚’ä½¿ç”¨ï¼‰</h3>
        <p>ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚ã¾ãšã¯ Lunr.js æœ¬ä½“ã‚’èª­ã¿è¾¼ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆä¾‹ï¼šCDNï¼‰ã€‚</p>
        <blockquote>
          <p>ä»¥ä¸‹ã¯è¨˜äº‹ä¸­ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ï¼ˆæŠœç²‹ï¼‰ã€‚å®Ÿéš›ã¯ <code>&lt;script src="...">&lt;/script></code> ã‚’ãƒšãƒ¼ã‚¸ã«å«ã‚ã¦ãã ã•ã„ã€‚</p>
        </blockquote>
        <pre><button class="copy-btn" aria-label="ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼">Copy</button><code aria-label="lunrã‚µãƒ³ãƒ—ãƒ«">&lt;script src="https://unpkg.com/lunr/lunr.min.js">&lt;/script>
&lt;script>
(async function() {
  const searchInput = document.getElementById('search-input');
  const resultsContainer = document.getElementById('results-container');
  const response = await fetch('/search-index.json');
  const documents = await response.json();
  const idx = lunr(function () {
    this.ref('id');
    this.field('title');
    this.field('content');
    documents.forEach(function (doc) { this.add(doc); }, this);
  });
  searchInput.addEventListener('input', function (event) {
    const query = event.target.value;
    resultsContainer.innerHTML = '';
    if (query.length &lt; 2) return;
    const results = idx.search(query);
    if (results.length > 0) {
      results.forEach(function (result) {
        const item = documents.find(doc => doc.id == result.ref);
        const li = document.createElement('li');
        li.innerHTML = '&lt;a href="' + item.url + '">' + item.title + '&lt;/a>';
        resultsContainer.appendChild(li);
      });
    } else {
      const noResult = document.createElement('li');
      noResult.textContent = 'è©²å½“ã™ã‚‹ãƒšãƒ¼ã‚¸ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';
      resultsContainer.appendChild(noResult);
    }
  });
})();
&lt;/script></code></pre>
        <p>ã“ã®æ–¹æ³•ã¯ãƒšãƒ¼ã‚¸æ•°ãŒæ•°åã€œç™¾ãƒšãƒ¼ã‚¸ç¨‹åº¦ã§ã‚ã‚Œã°ååˆ†ã«å®Ÿç”¨çš„ã§ã™ã€‚</p>
      </section>

      <section class="fade-in">
        <h2 id="method-b">æ–¹æ³•Bï¼šAlgolia ã‚’ä½¿ã†ï¼ˆé«˜æ©Ÿèƒ½ãªå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼‰ â˜ï¸</h2>
        <p>é«˜æ€§èƒ½ãªå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚ã‚µãƒ¼ãƒãƒ¼å´ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã—ãŸã‚Šã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‘ã‘APIã‚­ãƒ¼ã®ç®¡ç†ã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚„ãƒ•ã‚¡ã‚»ãƒƒãƒˆæ¤œç´¢ãªã©é«˜åº¦ãªæ©Ÿèƒ½ãŒä½¿ãˆã¾ã™ã€‚è¦æ¨¡ãŒå¤§ãã„ã‚µã‚¤ãƒˆã‚„æ¤œç´¢ä½“é¨“ã‚’é‡è¦–ã™ã‚‹å ´åˆã«æœ‰åˆ©ã§ã™ã€‚</p>
        <h3 id="algolia-advantages">Algolia ã®ãƒ¡ãƒªãƒƒãƒˆ</h3>
        <ul>
          <li>é«˜é€Ÿã§ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªæ¤œç´¢</li>
          <li>ãƒ©ãƒ³ã‚­ãƒ³ã‚°/ãƒ•ã‚¡ã‚»ãƒƒãƒˆ/ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ãªã©ã®é«˜åº¦æ©Ÿèƒ½</li>
          <li>ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é¢ã®åˆ©ä¾¿æ€§</li>
        </ul>
        <h3 id="algolia-disadvantages">Algolia ã®æ³¨æ„ç‚¹</h3>
        <ul>
          <li>åˆ©ç”¨æ–™é‡‘ãŒç™ºç”Ÿã™ã‚‹ï¼ˆç„¡æ–™æ ã¯ã‚ã‚‹ãŒåˆ¶é™ã‚ã‚Šï¼‰</li>
          <li>å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«ä¾å­˜ã™ã‚‹è¨­è¨ˆã«ãªã‚‹</li>
        </ul>
      </section>

      <section class="fade-in">
        <h2 id="summary">ã¾ã¨ã‚ âœ…</h2>
        <p>å°ã€œä¸­è¦æ¨¡ã®é™çš„ã‚µã‚¤ãƒˆã§ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆè‡ªå‰ã§å®Œçµã•ã›ãŸã„ãªã‚‰ <strong>Lunr.js</strong> ãŒç¾å®Ÿçš„ã§ã™ã€‚ä¸€æ–¹ã€æ¤œç´¢ä½“é¨“ãƒ»æ€§èƒ½ãƒ»é‹ç”¨æ€§ã‚’é‡è¦–ã™ã‚‹å ´åˆã¯ <strong>Algolia</strong> ã‚’æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚</p>
      </section>
    </article>
  </main>

  <footer>
    <div>YaMac33 | <time datetime="2025-08-16">2025/08/16</time></div>
  </footer>

  <script>
    // ç›®æ¬¡è‡ªå‹•ç”Ÿæˆ
    (function() {
      const toc = document.getElementById('table-of-contents');
      const headings = document.querySelectorAll('#article-body h2, #article-body h3');
      if (!headings.length) return;
      const ul = document.createElement('ul');
      headings.forEach(h => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = '#' + h.id;
        a.textContent = h.textContent.replace(/ğŸ”|ğŸ§°|â˜ï¸|âœ…/g,'').trim();
        li.appendChild(a);
        ul.appendChild(li);
      });
      toc.appendChild(ul);
    })();

    // ã‚³ãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
    document.querySelectorAll('pre button.copy-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const code = btn.nextElementSibling.innerText;
        navigator.clipboard.writeText(code).then(() => {
          btn.textContent = 'Copied!';
          setTimeout(() => btn.textContent = 'Copy', 1500);
        });
      });
    });
  </script>
</body>
</html>
